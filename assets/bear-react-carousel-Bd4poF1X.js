import{r as x,a as K}from"./react-B1CnsdDo.js";var se=Object.defineProperty,re=(i,e,t)=>e in i?se(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,o=(i,e,t)=>(re(i,typeof e!="symbol"?e+"":e,t),t),Q={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function ae(){if(G)return A;G=1;var i=K,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(a,r,c){var h,f={},_=null,g=null;c!==void 0&&(_=""+c),r.key!==void 0&&(_=""+r.key),r.ref!==void 0&&(g=r.ref);for(h in r)n.call(r,h)&&!l.hasOwnProperty(h)&&(f[h]=r[h]);if(a&&a.defaultProps)for(h in r=a.defaultProps,r)f[h]===void 0&&(f[h]=r[h]);return{$$typeof:e,type:a,key:_,ref:g,props:f,_owner:s.current}}return A.Fragment=t,A.jsx=u,A.jsxs=u,A}Q.exports=ae();var d=Q.exports;function V(i,e){var t=[];for(var n in i)e(i,n)&&t.push(n);return t.concat(Object.getOwnPropertySymbols(i).filter(s=>Object.getOwnPropertyDescriptor(i,s).enumerable))}function le(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function ue(i,e){return le(i,e)&&i[e]!==void 0}function U(i){return i!==null&&typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.nodeName=="string"&&typeof i.isEqualNode=="function"}function ce(i,e){return Object.prototype.toString.apply(e)==="[object "+i+"]"}function O(i){return!!i&&ce("Function",i.asymmetricMatch)}function he(i,e){var t=O(i),n=O(e);if(!(t&&n)){if(t)return i.asymmetricMatch(e);if(n)return e.asymmetricMatch(i)}}const Z=(i,e,t,n,s,l)=>{s=s||[];var u=!0,a=he(i,e);if(a!==void 0)return a;for(var r=0;r<s.length;r++){var c=s[r](i,e);if(c!==void 0)return c}if(i instanceof Error&&e instanceof Error)return i.message==e.message;if(Object.is(i,e))return!0;if(i===null||e===null)return i===e;var h=Object.prototype.toString.call(i);if(h!=Object.prototype.toString.call(e))return!1;switch(h){case"[object Boolean]":case"[object String]":case"[object Number]":return typeof i!=typeof e?!1:typeof i!="object"&&typeof e!="object"?Object.is(i,e):Object.is(i.valueOf(),e.valueOf());case"[object Date]":return+i==+e;case"[object RegExp]":return i.source===e.source&&i.flags===e.flags}if(typeof i!="object"||typeof e!="object")return!1;if(U(i)&&U(e))return i.isEqualNode(e);for(var f=t.length;f--;){if(t[f]===i)return n[f]===e;if(n[f]===e)return!1}if(t.push(i),n.push(e),h=="[object Array]"&&i.length!==e.length)return!1;var _=V(i,l),g,v=_.length;if(V(e,l).length!==v)return!1;for(;v--;)if(g=_[v],u=l(e,g)&&Z(i[g],e[g],t,n,s,l),!u)return!1;return t.pop(),n.pop(),u};function de(i,e,t,n){return Z(i,e,[],[],[],ue)}function k(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function fe(){try{return document.createEvent("MouseEvent"),!0}catch{return!1}}function X(i,e=0){const t=Number(i);return isNaN(t)?e:t}function J(i=0,e=[]){const t=e.filter(n=>n<i).sort((n,s)=>Number(s)-Number(n));return t.length>0?t[0]:0}function _e(i){var e;const t=i.match(/matrix.*\((.+?)\)/);return t===null?[]:(e=t[1])==null?void 0:e.split(", ").map(Number)}function ge(i){return Math.floor(i*100)/100}function R(i){return Object.keys(i)}function ve(i,e,t){const n=R(i).filter(l=>typeof i[l]!="function"&&!t.includes(l)).map(l=>i[l]),s=R(e).filter(l=>typeof e[l]!="function"&&!t.includes(l)).map(l=>e[l]);return de(n,s)===!1}function S(i,e=""){if(i)return String(e)}function me(i,e){const t=i%1,n=Math.floor(i);return t>=e?n+1:n}function pe(i,e){const t=i%1,n=Math.floor(i);let s=n+1;return t<=1-e&&(s=n),s<0?0:s}function be(i){return i===null?!1:typeof i>"u"?!0:Array.isArray(i)?i.length===0?!0:K.isValidElement(i[0]):!1}const p={console:"bear-react-carousel__console",root:"bear-react-carousel__root",content:"bear-react-carousel__content",container:"bear-react-carousel__container",containerInit:"bear-react-carousel__container-init",slideItem:"bear-react-carousel__slide-item",slideItemImage:"bear-react-carousel__slide-item__image",slideItemImageCover:"bear-react-carousel__slide-item__image-cover",slideItemImageContain:"bear-react-carousel__slide-item__image-contain",slideItemImageScaleDown:"bear-react-carousel__slide-item__image-scale-down",slideItemImageNone:"bear-react-carousel__slide-item__image-none",slideItemImagePreLoad:"bear-react-carousel__slide-item__image-preload",slideItemCard:"bear-react-carousel__slide-item__card",slideItemCardCover:"bear-react-carousel__slide-item__card-cover",slideItemCardContain:"bear-react-carousel__slide-item__card-contain",slideItemCard100:"bear-react-carousel__slide-item__card-100",navGroup:"bear-react-carousel__nav-group",navButton:"bear-react-carousel__nav-button",navPrevButton:"bear-react-carousel__nav-prev-button",navNextButton:"bear-react-carousel__nav-next-button",navIcon:"bear-react-carousel__nav-icon",paginationGroup:"bear-react-carousel__pagination-group",paginationButton:"bear-react-carousel__pagination-button",paginationContent:"bear-react-carousel__pagination-content",testNumber:"bear-react-carousel__test-number",testWindowSize:"bear-react-carousel__window-size",cloneIconGroup:"bear-react-carousel__clone-icon-group",cloneIcon:"bear-react-carousel__clone-icon"},D=["color: #fff","display: block","line-height: 20px","padding-right: 8px"];function j(i,e,t){console.log(`%c ${i}`,e,t)}function Ee(i,e){const t=D.concat(["background-color: #007bff"]).join(";");j(i,t,e)}function xe(i,e){const t=D.concat(["background-color: #28a745"]).join(";");j(i,t,e)}function ee(i,e){const t=D.concat(["background-color: #17a2b8"]).join(";");j(i,t,e)}function Pe(i,e){const t=D.concat(["background-color: #ffc107"]).join(";");j(i,t,e)}function Ie(i,e){const t=D.concat(["background-color: #ec2127"]).join(";");j(i,t,e)}function ye(i,e=!0){const t=document.getElementById(p.console);if(t){const n=new Date,s=[n.getMinutes(),n.getSeconds()].join("");t.value=`${s}: ${i}
${t.value}`}else e&&ee("mobile",i)}const b={primary:Ee,success:xe,info:ee,warning:Pe,danger:Ie,printInText:ye};function N(i){return{slidesPerView:i.slidesPerView,slidesPerGroup:i.slidesPerGroup,slidesPerViewActual:0,height:i.height,spaceBetween:i.spaceBetween,isCenteredSlides:i.isCenteredSlides,isEnableNavButton:i.isEnableNavButton,isEnablePagination:i.isEnablePagination,isEnablePageContent:i.isEnablePageContent,isEnableMouseMove:i.isEnableMouseMove,isEnableAutoPlay:i.isEnableAutoPlay,isEnableLoop:i.isEnableLoop,moveTime:i.moveTime,movePercentage:i.movePercentage,autoPlayTime:i.autoPlayTime,initStartPlayTime:i.initStartPlayTime,moveEffect:i.moveEffect,isDebug:i.isDebug,isEnableGPURender:i.isEnableGPURender}}function Y(i){const e=i==null?void 0:i.breakpoints,t=i==null?void 0:i.win,n=i==null?void 0:i.defaultBreakpoint,s=e&&t?J(t==null?void 0:t.innerWidth,R(e).map(Number)):0;let l=n??{slidesPerView:1,slidesPerGroup:1};e&&s>0&&(l=Object.assign(l,e[s]));const u=l.slidesPerView==="auto"?1:X(l.slidesPerView,1);return{...l,slidesPerViewActual:u,isEnableLoop:l.slidesPerView==="auto"?!1:l.isEnableLoop,slidesPerGroup:l.slidesPerGroup>u?u:X(l.slidesPerGroup,1)}}function Se(i){if(typeof i=="string")return i==="auto"?void 0:{height:i};if(typeof(i==null?void 0:i.widthRatio)<"u"&&typeof(i==null?void 0:i.heightRatio)<"u")return{aspectRatio:`${i.widthRatio} / ${i.heightRatio}`,height:"auto"}}class we{constructor(e){o(this,"_setting"),o(this,"_window"),o(this,"init",t=>{this._setting=Y({defaultBreakpoint:t.defaultBreakpoint,breakpoints:t.breakpoints,win:this._window})}),this._window=e.win,this._setting=Y(e)}get setting(){return this._setting}get isAutoHeight(){return typeof this.setting.height>"u"||this.setting.height==="auto"}get rootHeight(){return Se(this.setting.height)}get style(){var e,t;return{"--carousel-height":(e=this.rootHeight)==null?void 0:e.height,"--carousel-aspect-ratio":(t=this.rootHeight)==null?void 0:t.aspectRatio,"--carousel-content-position":this.isAutoHeight?"static":"absolute","--carousel-space-between":`${this.setting.spaceBetween}px`,"--carousel-slide-width":this.setting.slidesPerView==="auto"?"auto":`${100/this.setting.slidesPerViewActual}%`}}}class T{constructor(){o(this,"events",new Map)}on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}off(e,t){if(this.events.has(e)&&t){const n=this.events.get(e),s=n.indexOf(t);s>=0&&n.splice(s,1)}}emit(e,...t){if(this.events.has(e))for(const n of this.events.get(e))n&&n(...t)}}var y=(i=>(i[i.mobile=0]="mobile",i[i.desktop=1]="desktop",i))(y||{});const E={componentDidMount:!0,componentWillUnmount:!0,shouldComponentUpdate:!0,dragger:{onMobileTouchStart:!0,onMobileTouchMove:!0,onMobileTouchEnd:!0,onWebMouseStart:!0,onWebMouseMove:!0,onWebMouseEnd:!0,onDragStart:!1,onDragMove:!1,onDragEnd:!1},controller:{onSlideResetToMatchIndex:!0},autoPlayer:{play:!0,pause:!0},windowSizer:{onResize:!0},syncCarousel:{onSyncControlMove:!1,onSyncControlDone:!1,onSlideToSourceIndex:!1}},L={[y.mobile]:"orientationchange",[y.desktop]:"resize"};class Me{constructor(e){o(this,"_breakpoints"),o(this,"_configurator"),o(this,"_size"),o(this,"_device"),o(this,"_eventManager",new T),o(this,"_window"),o(this,"_currWidth"),o(this,"_detectDevice",()=>k()?y.mobile:(fe(),y.desktop)),o(this,"_setSize",()=>J(this._window.innerWidth,this._breakpoints?R(this._breakpoints).map(Number):void 0)),o(this,"_emitResize",()=>{this._configurator.setting.isDebug&&E.windowSizer.onResize&&b.printInText("[WindowSizer.onResize]"),this._currWidth!==this._window.innerWidth&&(this._currWidth=this._window.innerWidth,this._size=this._setSize(),this._eventManager.emit("resize",{windowSize:this._size}))}),o(this,"onResize",t=>{this._device===y.mobile&&this._window.addEventListener(L[y.mobile],this._emitResize,!1),this._window.addEventListener(L[y.desktop],this._emitResize,!1),this._eventManager.on("resize",t)}),o(this,"offResize",t=>{this._device===y.mobile&&this._window.removeEventListener(L[y.mobile],this._emitResize,!1),this._window.removeEventListener(L[y.desktop],this._emitResize,!1),this._eventManager.off("resize",t)}),this._breakpoints=e.breakpoints,this._configurator=e.configurator,this._window=e.win,this._device=this._detectDevice(),this._size=this._setSize(),this._currWidth=this._window.innerWidth}get size(){return this._size}get device(){return this._device}}function $(i=[],e=1,t=1,n=!1){const s=[],l=n;let u=0;const a=1.5,r=e==="auto"?0:Math.ceil(e),c=e==="auto"?0:Math.ceil(e*a),h=i.length/t-(t-r);if(l){const g=i.length-c;for(const[v,P]of i.slice(-c).entries())s[u]={key:`clone_before_${v}`,virtualIndex:u,matchIndex:c+g+u,sourceIndex:g+v,inPage:h,isClone:!0,element:P},u+=1}let f=u,_=0;for(const[g,v]of i.entries())s[u]={key:`source_${g}`,virtualIndex:u,matchIndex:u,sourceIndex:g,inPage:Math.ceil((_+1)/t),isClone:!1,element:v},u+=1,_+=1;if(l)for(const[g,v]of i.slice(0,c).entries())s[u]={key:`clone_after_${g}`,virtualIndex:u,matchIndex:f,sourceIndex:g,inPage:1,isClone:!0,element:v},u+=1,f+=1;return s}function Te(i,e,t,n){return i?e+t:e+n}function Ce(i,e,t,n){if(i){const l=e-t;return l<0?0:l}const s=e-n;return s<0?0:s}function B(i,e){return i>=e.virtual.lastIndex?e.virtual.lastIndex:i<=0?0:i}function Ae(i,e){const t=Math.abs(i.y-e.y),n=Math.abs(i.x-e.x);return t<n}class F{constructor(e,t){o(this,"_info"),o(this,"_formatElement"),o(this,"_configurator"),o(this,"_eventor",new T),o(this,"reset",(u=[])=>{this._info=this.formatInfo(u),this._eventor.emit("change")}),o(this,"onChange",u=>{this._eventor.on("change",u)}),o(this,"offChange",u=>{this._eventor.off("change",u)}),o(this,"getInRangeIndex",u=>B(u,this)),o(this,"formatInfo",(u=[])=>{const{slidesPerView:a,slidesPerViewActual:r,slidesPerGroup:c,isCenteredSlides:h,isEnablePagination:f,isEnableNavButton:_,isEnableLoop:g}=this._configurator.setting;let v=u.length;this.updateData(u);const P=this.formatElement.length,m={min:0,max:P-1};let I=Math.ceil(v/c);const w=!(g||h||a==="auto"||!Number.isInteger(a));return w&&(I=I-(a-c)),{source:{activeIndex:0,prevActiveIndex:0,lastIndex:v-1,total:v},virtual:{activeIndex:0,prevActiveIndex:0,lastIndex:w?Math.ceil(m.max-(this._configurator.setting.slidesPerViewActual-1)):m.max,total:this._formatElement.length},page:{activePage:1,total:I>0?I:1},residue:P%c,isVisiblePagination:!!(f&&this.formatElement.length>0),isVisibleNavButton:!!(_&&this.formatElement.length>0)}}),o(this,"updateData",(u=[])=>{const{slidesPerViewActual:a,slidesPerGroup:r,isEnableLoop:c}=this._configurator.setting;this._formatElement=$(u,a,r,c)}),o(this,"setActiveActual",(u,a)=>{var r,c;this.virtual.activeIndex!==u&&(this.source.prevActiveIndex=((r=this.formatElement[this.virtual.activeIndex])==null?void 0:r.sourceIndex)??0,this.source.activeIndex=((c=this.formatElement[u])==null?void 0:c.sourceIndex)??0,this.virtual.prevActiveIndex=this.virtual.activeIndex,this.virtual.activeIndex=u,this.page.activePage=a,this._eventor.emit("change"))}),this._configurator=e,this._info=this.formatInfo(t);const{slidesPerViewActual:n,slidesPerGroup:s,isEnableLoop:l}=this._configurator.setting;if(!be(t))throw new Error(`[bear-react-carousel] Data format error: must be ReactNode[] not Array<{key: string, children: ReactNode}>

  Please read the 5.x upgrade guide: https://bear-react-carousel.pages.dev/docs/faqs/migration-to-5
`);this._formatElement=$(t,n,s,l),this._eventor.emit("change")}get nextPage(){return this._info.page.activePage+1}get nextPageFirstIndex(){const{setting:e}=this._configurator;return Te(e.isCenteredSlides??!1,this.virtual.activeIndex,e.slidesPerGroup,e.slidesPerViewActual)}get prevPage(){var e;return((e=this._info)==null?void 0:e.page.activePage)-1}get prevPageFirstIndex(){const{setting:e}=this._configurator;return Ce(e.isCenteredSlides??!1,this.virtual.activeIndex,e.slidesPerGroup,e.slidesPerViewActual)}get virtual(){var e;return(e=this._info)==null?void 0:e.virtual}get page(){var e;return(e=this._info)==null?void 0:e.page}get formatElement(){return this._formatElement}get source(){var e;return(e=this._info)==null?void 0:e.source}get residue(){var e;return((e=this._info)==null?void 0:e.residue)??0}get isVisibleNavButton(){var e;return(e=this._info)==null?void 0:e.isVisibleNavButton}get isVisiblePagination(){var e;return(e=this._info)==null?void 0:e.isVisiblePagination}}const Re=()=>d.jsxs("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:[d.jsx("path",{d:"M808.768 197.312c10.432 0 17.408 6.912 17.408 17.344l0 485.568c0 10.368-6.976 17.344-17.408 17.344l-87.296 0c-19.136 0-34.944 15.552-34.944 34.624 0 19.136 15.808 34.688 34.944 34.688l104.768 0c38.464 0 69.824-31.168 69.824-69.312l0-520.32C896 159.168 864.64 128 826.176 128l-384 0c-38.4 0-69.824 31.232-69.824 69.312l0 34.688c0 19.072 15.68 34.688 34.88 34.688 19.2 0 34.88-15.616 34.88-34.688L442.112 214.656c0-10.432 6.976-17.344 17.408-17.344L808.768 197.312z",fill:"#ffffff"}),d.jsx("path",{d:"M128 363.968l0 469.376C128 867.84 160.32 896 199.808 896l394.944 0c39.488 0 71.872-28.16 71.872-62.656L666.624 363.968c0-34.432-32.384-62.592-71.872-62.592L199.808 301.376C160.32 301.376 128 329.536 128 363.968z",fill:"#ffffff"})]}),De=x.forwardRef(({element:i,index:e,virtualIndex:t,matchIndex:n,sourceIndex:s,inPage:l,isActive:u=!1,isClone:a=!1,isDebug:r=!1},c)=>d.jsxs("div",{className:p.slideItem,ref:c,"data-testid":"bear-carousel-slideItem","data-virtual":t,"data-match":S(a,n),"data-page":l,"data-source":s,"data-active":S(u),"data-is-clone":S(a),children:[i,r&&d.jsxs("div",{className:p.testNumber,children:[s,a&&d.jsxs("div",{className:p.cloneIconGroup,children:[d.jsx("div",{className:p.cloneIcon,children:d.jsx(Re,{})}),e]})]})]}));class je{constructor(e){o(this,"_rootRef",x.createRef()),o(this,"_containerRef",x.createRef()),o(this,"_pageGroupRef",x.createRef()),o(this,"_navGroupRef",x.createRef()),o(this,"_slideItemRefs",x.createRef()),o(this,"_pageRefs",x.createRef()),this._slideItemRefs.current=[],this._pageRefs.current=[]}get rootEl(){return this._rootRef.current}get containerEl(){return this._containerRef.current}get slideItemEls(){return this._slideItemRefs.current}get pageEls(){return this._pageRefs.current}get pageGroupEl(){return this._pageGroupRef.current}get navGroupEl(){return this._navGroupRef.current}setSlideItemRefs(e,t){this._slideItemRefs.current&&(this._slideItemRefs.current[t]=e)}setPageRefs(e,t){this._pageRefs.current&&(this._pageRefs.current[t]=e)}}function ze(i,e){return(i-1)*e}function Le(i,e,t){const n=e.formatElement[e.virtual.activeIndex],{setting:s}=t;if(n){if(s.isEnableLoop)return n.isClone?i.isAnimation?[]:[{index:n.matchIndex,isUseAnimation:!1},{index:n.matchIndex-1,isUseAnimation:!0}]:e.residue>0?[{index:n.virtualIndex-e.residue,isUseAnimation:!0}]:[{index:n.virtualIndex-s.slidesPerGroup,isUseAnimation:!0}];if(e.virtual.activeIndex>0)return[{index:n.virtualIndex-s.slidesPerGroup,isUseAnimation:!0}]}return[]}function Ne(i,e,t){const n=e.formatElement[e.virtual.activeIndex],{setting:s}=t;if(n){if(s.isEnableLoop)return n!=null&&n.isClone?i.isAnimation?[]:[{index:n.matchIndex,isUseAnimation:!1},{index:n.matchIndex+s.slidesPerGroup,isUseAnimation:!0}]:e.residue>0?[{index:n.virtualIndex+e.residue,isUseAnimation:!0}]:[{index:n.virtualIndex+s.slidesPerGroup,isUseAnimation:!0}];if(e.virtual.activeIndex<=e.virtual.lastIndex)return[{index:n.virtualIndex+s.slidesPerGroup,isUseAnimation:!0}]}return[]}class ke{constructor(e){o(this,"_configurator"),o(this,"_stater"),o(this,"_elState"),o(this,"_eventor",new T),o(this,"onSlideBefore",t=>{this._eventor.on("slideBefore",t)}),o(this,"onSlideAfter",t=>{this._eventor.on("slideAfter",t)}),o(this,"offSlideBefore",t=>{this._eventor.off("slideBefore",t)}),o(this,"offSlideAfter",t=>{this._eventor.off("slideAfter",t)}),o(this,"slideResetToMatchIndex",()=>{var t;this._configurator.setting.isDebug&&E.controller.onSlideResetToMatchIndex&&b.printInText("[Controller.slideResetToMatchIndex]");const{virtual:n,formatElement:s}=this._stater;(t=s[n.activeIndex])!=null&&t.isClone&&this.slideToVirtualIndex(s[n.activeIndex].matchIndex,{isUseAnimation:!1})}),o(this,"slideToSourceIndex",(t,n)=>{((n==null?void 0:n.isEmitEvent)??!0)&&this._eventor.emit("slideBefore",t,(n==null?void 0:n.isUseAnimation)??!1);const s=this._stater.formatElement.find(l=>l.sourceIndex===t&&!l.isClone);s&&this.slideToVirtualIndex(s.virtualIndex,n)}),o(this,"slideToVirtualIndex",(t,n)=>{var s;const l=(n==null?void 0:n.isEmitEvent)??!0;l&&this._eventor.emit("slideBefore",t,(n==null?void 0:n.isUseAnimation)??!1);const u=this._stater.getInRangeIndex(t),{formatElement:a}=this._stater;this._stater.setActiveActual(u,((s=a[u])==null?void 0:s.inPage)??1);const r=this._elState.getMoveDistance(u);this._elState.transform(r,(n==null?void 0:n.isUseAnimation)??!0).moveEffect(t,(n==null?void 0:n.isUseAnimation)??!0).syncActiveState(),l&&this._eventor.emit("slideAfter",u,n==null?void 0:n.isUseAnimation)}),o(this,"slideToNextPage",()=>{Ne(this._elState,this._stater,this._configurator).forEach(t=>this.slideToVirtualIndex(t.index,{isUseAnimation:t.isUseAnimation}))}),o(this,"slideToPrevPage",()=>{Le(this._elState,this._stater,this._configurator).forEach(t=>this.slideToVirtualIndex(t.index,{isUseAnimation:t.isUseAnimation}))}),this._configurator=e.configurator,this._stater=e.stater,this._elState=e.elState}slideToPage(e,t=!0){var n,s;const{setting:l}=this._configurator;e=e>((n=this._stater.page)==null?void 0:n.total)?(s=this._stater.page)==null?void 0:s.total:e;const u=ze(e,l.slidesPerGroup);this.slideToSourceIndex(u,{isUseAnimation:t})}}class Be{constructor(e){o(this,"_configurator"),o(this,"_timer",null),o(this,"_initTimer",null),o(this,"_eventor",new T),o(this,"onTimeout",t=>{window.addEventListener("focus",this.play,!1),window.addEventListener("blur",this.pause,!1),this._initTimer=setTimeout(this.play,this._configurator.setting.initStartPlayTime??0),this._eventor.on("timeout",t)}),o(this,"offTimeout",t=>{window.removeEventListener("focus",this.play,!1),window.removeEventListener("blur",this.pause,!1),this.pause(),this._eventor.off("timeout",t)}),o(this,"play",()=>{const{setting:t}=this._configurator;t.isDebug&&E.autoPlayer.play&&b.printInText("[AutoPlayer.play]"),!this.isPlaying&&t.isEnableAutoPlay&&((t==null?void 0:t.autoPlayTime)??0)>0&&(this._timer=setInterval(()=>{this._eventor.emit("timeout")},t.autoPlayTime))}),o(this,"pause",()=>{this._configurator.setting.isDebug&&E.autoPlayer.play&&b.printInText("[AutoPlayer.pause]"),this._timer&&(clearInterval(this._timer),this._timer=null),this._initTimer&&(clearInterval(this._initTimer),this._initTimer=null)}),this._configurator=e.configurator}get isPlaying(){return this._timer}}function We(i,e){return e-i}function Ge(i){const e=window.getComputedStyle(i).transform,t=e.includes("3d")?"3d":"2d";let n=_e(e);switch(t){case"2d":return{x:n[4]??0,y:n[5]??0,z:0};case"3d":return{x:n[12]??0,y:n[13]??0,z:n[14]};default:return{x:0,y:0,z:0}}}const Ve={pageX:0,pageY:0,x:0,y:0,timeStamp:null},Ue={pageX:0,pageY:0,x:0,y:0,timeStamp:null,moveX:0,moveY:0};class Oe{constructor(){o(this,"_startPosition",Ve),o(this,"_endPosition",Ue),o(this,"_letItGo",null),o(this,"touchStart",(e,t)=>{const{x:n,y:s}=Ge(t);this._startPosition.x=e.pageX-n,this._startPosition.y=e.pageY-s,this._startPosition.pageX=e.pageX,this._startPosition.pageY=e.pageY,this._startPosition.timeStamp=Date.now(),this._endPosition={timeStamp:null,pageX:e.pageX,pageY:e.pageY,x:n,y:s,moveX:this._startPosition.pageX-this._startPosition.x,moveY:this._startPosition.pageY-this._startPosition.y}}),o(this,"touchMove",(e,t)=>{const n=this._startPosition.x;this._endPosition.pageX=e.pageX;const s=this._startPosition.y;return this._endPosition.pageY=e.pageY,this._endPosition.moveX=this._endPosition.pageX-n,this._endPosition.moveY=this._endPosition.pageY-s,{x:this._endPosition.moveX,y:this._endPosition.moveY}})}get startPosition(){return this._startPosition}}class H{constructor(e){o(this,"_event"),this._event=e}get pageX(){return this._event.touches[0].pageX??0}get pageY(){return this._event.touches[0].pageY??0}}class q{constructor(e){o(this,"_event"),this._event=e}get pageX(){return this._event.pageX}get pageY(){return this._event.pageY}}class Xe{constructor(e){o(this,"_configurator"),o(this,"_elementor"),o(this,"_elState"),o(this,"_locator"),o(this,"_stater"),o(this,"_eventor",new T),o(this,"_moveMinDistancePx",50),o(this,"onDragStart",t=>{this._elementor.containerEl&&(k()?this._elementor.containerEl.addEventListener("touchstart",this._onMobileTouchStart,{passive:!1}):this._elementor.containerEl.addEventListener("pointerdown",this._onWebMouseStart,{passive:!1})),this._eventor.on("dragStart",t)}),o(this,"onDragMove",t=>{this._eventor.on("dragMove",t)}),o(this,"onDragEnd",t=>{this._eventor.on("dragEnd",t)}),o(this,"offDragStart",t=>{this._elementor.containerEl&&(k()?this._elementor.containerEl.removeEventListener("touchstart",this._onMobileTouchStart,{passive:!1}):this._elementor.containerEl.removeEventListener("pointerdown",this._onWebMouseStart,{passive:!1})),this._eventor.off("dragStart",t)}),o(this,"offDragMove",t=>{this._eventor.off("dragMove",t)}),o(this,"offDragEnd",t=>{this._eventor.off("dragEnd",t)}),o(this,"_onMobileTouchStart",t=>{this._configurator.setting.isDebug&&E.dragger.onMobileTouchStart&&b.printInText("[Dragger._onMobileTouchStart]"),t.stopPropagation(),this._dragStart(),this._eventor.emit("dragStart");const{containerEl:n}=this._elementor;n&&(this._locator.touchStart(new H(t),n),document.addEventListener("touchmove",this._onMobileTouchMove,{passive:!1}),document.addEventListener("touchend",this._onMobileTouchEnd,{passive:!1}))}),o(this,"_onMobileTouchMove",t=>{t.stopPropagation();const n=new H(t);if(this._configurator.setting.isDebug&&E.dragger.onMobileTouchMove&&b.printInText("[Dragger._onMobileTouchMove]"),this._locator._letItGo===null&&(this._locator._letItGo=Ae({x:this._locator.startPosition.pageX,y:this._locator.startPosition.pageY},{x:n.pageX,y:n.pageY})),this._elementor.containerEl&&this._locator._letItGo){t.preventDefault();const s=this._locator.touchMove(n,this._elementor.containerEl);this._dragMove(s.x)}}),o(this,"_onMobileTouchEnd",t=>{this._configurator.setting.isDebug&&E.dragger.onMobileTouchEnd&&b.printInText("[Dragger._onMobileTouchEnd]"),t.stopPropagation(),this._locator._letItGo=null;const{containerEl:n}=this._elementor;n&&(document.removeEventListener("touchmove",this._onMobileTouchMove,!1),document.removeEventListener("touchend",this._onMobileTouchEnd,!1)),this._dragEnd()}),o(this,"_onWebMouseStart",t=>{t.preventDefault(),this._configurator.setting.isDebug&&E.dragger.onWebMouseStart&&b.printInText("[Dragger._onWebMouseStart]"),this._dragStart(),this._eventor.emit("dragStart");const{containerEl:n}=this._elementor;if(n){this._locator.touchStart(new q(t),n);const{startPosition:s}=this._locator,l=We(s.x,t.clientX);this._elState.transform(l,!1),document.addEventListener("pointermove",this._onWebMouseMove,!1),document.addEventListener("pointerup",this._onWebMouseEnd,!1),document.addEventListener("pointercancel",this._onWebMouseEnd,!1)}}),o(this,"_onWebMouseMove",t=>{t.preventDefault(),this._configurator.setting.isDebug&&E.dragger.onWebMouseMove&&b.printInText("[Dragger._onWebMouseMove]");const n=this._locator._endPosition.pageX-this._locator._startPosition.pageX;if(Math.abs(n)>this._moveMinDistancePx&&this._elState.setTouching(!0),this._elementor.containerEl){this._elementor.containerEl.setPointerCapture(t.pointerId);const s=this._locator.touchMove(new q(t),this._elementor.containerEl);this._dragMove(s.x)}}),o(this,"_onWebMouseEnd",t=>{t.preventDefault(),this._elState.setTouching(!1),this._configurator.setting.isDebug&&E.dragger.onWebMouseEnd&&b.printInText("[Dragger._onWebMouseEnd]"),document.removeEventListener("pointermove",this._onWebMouseMove,!1),document.removeEventListener("pointerup",this._onWebMouseEnd,!1),document.removeEventListener("pointercancel",this._onWebMouseEnd,!1),this._dragEnd()}),o(this,"_dragEnd",()=>{var t;this._configurator.setting.isDebug&&E.dragger.onDragEnd&&b.printInText("[Dragger._dragEnd]");const n=this._elState.getMovePercentage(this._locator._endPosition.moveX),s=this._locator._endPosition.pageX-this._locator._startPosition.pageX,l=this._configurator.setting.movePercentage??.1;if(s>0){const u=B(pe(n,l),this._stater);this._eventor.emit("dragEnd",u)}else if(s<0){const u=B(me(n,l),this._stater);this._eventor.emit("dragEnd",u)}else this._eventor.emit("dragEnd",(t=this._stater.virtual)==null?void 0:t.activeIndex)}),this._configurator=e.configurator,this._elementor=e.elementor,this._elState=e.elState,this._stater=e.stater,this._locator=new Oe}_dragStart(){this._configurator.setting.isDebug&&E.dragger.onDragStart&&b.printInText("[Dragger._dragStart]")}_dragMove(e){this._configurator.setting.isDebug&&E.dragger.onDragMove&&b.printInText("[Dragger._dragMove]");const{setting:t}=this._configurator;if(this._elementor.containerEl&&t.isEnableMouseMove&&this._elementor.slideItemEls&&this._stater.page.total>1){const n=this._elState.getMovePercentage(e);this._eventor.emit("dragMove",n),this._elState.transform(e).moveEffect(n)}}}class Ye{constructor(e){o(this,"_carouselRef"),o(this,"syncControlMove",t=>{var n;if((n=this._configurator)!=null&&n.setting.isDebug&&E.syncCarousel.onSyncControlMove&&b.printInText("[SyncCarousel.syncControlMove]"),this._elementor){const s=this._elementor.getPercentageToMovePx(t);this._elementor.transform(s).moveEffect(t)}}),o(this,"syncControlDone",t=>{var n,s;(n=this._configurator)!=null&&n.setting.isDebug&&E.syncCarousel.onSyncControlDone&&b.printInText("[SyncCarousel.syncControlDone]"),(s=this._controller)==null||s.slideToVirtualIndex(t)}),o(this,"slideToSourceIndex",(t,n=!0)=>{var s,l;(s=this._configurator)!=null&&s.setting.isDebug&&E.syncCarousel.onSlideToSourceIndex&&b.printInText("[SyncCarousel.slideToSourceIndex]"),(l=this._controller)==null||l.slideToSourceIndex(t,{isUseAnimation:n,isEmitEvent:!1})}),this._carouselRef=e}get _elementor(){var e,t;return(t=(e=this._carouselRef)==null?void 0:e.current)==null?void 0:t._elState}get _configurator(){var e,t;return(t=(e=this._carouselRef)==null?void 0:e.current)==null?void 0:t._configurator}get _controller(){var e,t;return(t=(e=this._carouselRef)==null?void 0:e.current)==null?void 0:t._controller}}const $e=({size:i=0})=>d.jsx("div",{"data-testid":"bear-carousel-windowSize",className:p.testWindowSize,children:i});function te(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(t=te(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function ie(){for(var i,e,t=0,n="",s=arguments.length;t<s;t++)(i=arguments[t])&&(e=te(i))&&(n&&(n+=" "),n+=e);return n}const Fe=x.forwardRef(({isActive:i=!1,onSlideToPage:e,page:t,pageContent:n},s)=>{const l=!!n,u=x.useCallback(()=>{e(t)},[t]);return d.jsx("div",{className:ie({[p.paginationButton]:!l,[p.paginationContent]:l}),ref:s,role:"button",onClick:u,"data-testid":"bear-carousel-page-button","data-active":S(i),"data-page":t,children:n})}),ne=x.createContext({isLazy:!1,renderLazyPreloader:()=>d.jsx("div",{children:"loading..."})}),He=()=>x.useContext(ne),qe=i=>{const{children:e,...t}=i;return d.jsx(ne.Provider,{value:t,children:e})},oe=({className:i,testId:e,onClick:t})=>d.jsx("button",{"data-testid":e,type:"button",className:i,onClick:t,children:d.jsx("div",{className:p.navIcon})}),Ke=({onClick:i})=>d.jsx(oe,{onClick:i,className:[p.navButton,p.navNextButton].join(" "),testId:"bear-carousel-navNextButton"}),Qe=({onClick:i})=>d.jsx(oe,{onClick:i,className:[p.navButton,p.navPrevButton].join(" "),testId:"bear-carousel-navPrevButton"}),Ze=x.forwardRef(({style:i,className:e,setting:t,isDebug:n=!1,extendStyle:s,isEnableGpuRender:l=!0,children:u},a)=>d.jsx("div",{ref:a,"data-testid":"bear-carousel",style:{...i,...s},className:[e,p.root].join(" ").trim(),"data-gpu-render":S(l),"data-per-view-auto":S((t==null?void 0:t.slidesPerView)==="auto"),"data-mouse-move":S((t==null?void 0:t.isEnableMouseMove)??!1),"data-debug":S(n),children:u}));function Je(i,e,t){var n;if(i.setting.isCenteredSlides){let s=0;const l=(t.slideItemEls&&((n=t.slideItemEls[0])==null?void 0:n.offsetWidth))??0;return t.containerEl&&i.setting.slidesPerView==="auto"&&(s=(t.containerEl.offsetWidth-l)/2),s+l*(i.setting.slidesPerViewActual-1)/2}return 0}function et(i,e,t){const n=i-e;return ge(n/t)}function tt(i,e){return-i+e}class it{constructor(e){o(this,"_elementor"),o(this,"_configurator"),o(this,"_stater"),o(this,"_isAnimation",!1),o(this,"_eventor",new T),o(this,"onAnimationEnd",t=>{this._eventor.on("animationEnd",t)}),o(this,"onSlideAnimation",()=>{var t,n;(t=this._elementor.containerEl)==null||t.addEventListener("transitionstart",this.animationStart,!1),(n=this._elementor.containerEl)==null||n.addEventListener("transitionend",this.animationEnd,!1)}),o(this,"offSlideAnimation",()=>{var t,n;(t=this._elementor.containerEl)==null||t.removeEventListener("transitionstart",this.animationStart,!1),(n=this._elementor.containerEl)==null||n.removeEventListener("transitionend",this.animationEnd,!1)}),o(this,"_getStartPosition",()=>Je(this._configurator,this._stater,this._elementor)),o(this,"getMovePercentage",t=>{var n;if(this._elementor.slideItemEls===null||this._elementor.containerEl===null)return 0;const s=this._elementor.containerEl.offsetWidth,l=t*-1,u=this._elementor.slideItemEls.length-1,a=((n=this._elementor.slideItemEls)==null?void 0:n.map((r,c)=>{const h=this._configurator.setting.isCenteredSlides?(s-r.offsetWidth)/2:0,f=r.offsetLeft-h,_=r.offsetLeft+r.offsetWidth;return{index:c,offsetLeft:r.offsetLeft,fillOffsetLeft:f,offsetRight:_,offsetWidth:r.offsetWidth,fillStartPx:h}})).find(r=>r.index===u&&l>=r.offsetRight||r.index===0&&l<=r.offsetLeft?!0:l>=r.offsetLeft&&l<r.offsetRight);if(a){const r=et(l,a.fillOffsetLeft,a.offsetWidth);return a.index+r}return 0}),o(this,"getPercentageToMovePx",t=>{const n=(this._elementor.slideItemEls&&this._elementor.slideItemEls[this._stater.virtual.activeIndex].offsetWidth)??0,s=this._getStartPosition();return-(n*t)+s}),o(this,"getMoveDistance",t=>{if(this._elementor.slideItemEls&&this._elementor.slideItemEls[t]){const n=this._elementor.slideItemEls[t];return tt(n.offsetLeft,this._getStartPosition())}return 0}),o(this,"setTouching",t=>{t?this._elementor.rootEl&&(this._elementor.rootEl.dataset.touching=""):this._elementor.rootEl&&this._elementor.rootEl.removeAttribute("data-touching")}),o(this,"_effectFn",(t,n,s=!1)=>{var l;if((l=this._configurator.setting.moveEffect)!=null&&l.moveFn){const u=this._configurator.setting.moveEffect.moveFn(n);u&&(R(u).forEach(a=>{t.style[a]=u[a]}),s?t.style.transition=Object.keys(u).map(a=>{var r;return`${((r=this._configurator.setting.moveEffect)==null?void 0:r.moveTime)??".3s"} ${a}`}).join(", "):t.style.transition="none")}}),o(this,"syncActiveState",()=>{var t,n,s,l,u,a,r,c,h;const f=(t=this._elementor.slideItemEls)==null?void 0:t.filter(m=>m),_=this._stater.getInRangeIndex((n=this._stater.virtual)==null?void 0:n.activeIndex);f==null||f.forEach((m,I)=>{Number(m==null?void 0:m.dataset.virtual)===_?m.setAttribute("data-active",""):typeof(m==null?void 0:m.dataset.active)<"u"&&m.removeAttribute("data-active")});const g=this._stater.page.activePage;this._stater.isVisiblePagination&&this._stater.page.activePage>0&&((s=this._elementor.pageEls)==null||s.forEach((m,I)=>{g===I+1?m.setAttribute("data-active",""):typeof(m==null?void 0:m.dataset.active)<"u"&&m.removeAttribute("data-active")}));const v=this._stater.page.total===1,P=this._stater.virtual.total<this._configurator.setting.slidesPerView;typeof((l=this._elementor.rootEl)==null?void 0:l.dataset.firstPage)<"u"&&((u=this._elementor.rootEl)==null||u.removeAttribute("data-first-page")),typeof((a=this._elementor.rootEl)==null?void 0:a.dataset.lastPage)<"u"&&((r=this._elementor.rootEl)==null||r.removeAttribute("data-last-page")),this._stater.isVisibleNavButton&&!this._configurator.setting.isEnableLoop&&((g<=1||v||P)&&((c=this._elementor.rootEl)==null||c.setAttribute("data-first-page","")),(g>=this._stater.page.total||v||P)&&((h=this._elementor.rootEl)==null||h.setAttribute("data-last-page","")))}),o(this,"animationStart",()=>{this._isAnimation=!0,this._elementor.containerEl&&(this._elementor.containerEl.dataset.animation="")}),o(this,"animationEnd",()=>{this._isAnimation=!1,this._elementor.containerEl&&this._elementor.containerEl.removeAttribute("data-animation"),this._eventor.emit("animationEnd",this._stater,this._elementor)}),this._elementor=e.elementor,this._configurator=e.configurator,this._stater=e.stater}get isUseAnimation(){var e;return((e=this._elementor.containerEl)==null?void 0:e.style.transitionDuration)!=="0ms"}get isAnimation(){return this._isAnimation}transform(e,t=!1){return this._elementor.containerEl&&(this._elementor.containerEl.style.transform=`translate(${e}px, 0px)`,this._elementor.containerEl.style.transitionDuration=t?`${this._configurator.setting.moveTime}ms`:"0ms"),this}moveEffect(e,t=!1){const{moveEffect:n,slidesPerView:s,isCenteredSlides:l}=this._configurator.setting;if(typeof s=="number"&&n!=null&&n.moveFn){let u=0;if(this._elementor.slideItemEls)for(const a of this._elementor.slideItemEls){if(a){const r=l?Math.floor(s/2)+1:s,c=e-u,h=c>=0?(r-c)/r:(r+c)/r;this._effectFn(a,{calcPercentage:h,percentage:c,index:u},t)}u+=1}}return this}}class nt extends x.Component{constructor(e){super(e),o(this,"state",{windowSize:0,isClientReady:!1}),o(this,"_isError",!1),o(this,"_elementor"),o(this,"_stater"),o(this,"_configurator"),o(this,"_windowSizer"),o(this,"_elState"),o(this,"_controller"),o(this,"_autoPlayer"),o(this,"_dragger"),o(this,"_syncCarousels"),o(this,"_init",()=>{this.setState({isClientReady:!0},()=>{var a;(a=this._controller)==null||a.slideToPage(1,!1),this._onChange()})}),o(this,"_setController",()=>{this.props.setController&&this._controller&&this.props.setController(this._controller)}),o(this,"_onAutoPlay",()=>{var a;(a=this._controller)==null||a.slideToNextPage()}),o(this,"_onSlideBefore",()=>{var a;(a=this._autoPlayer)==null||a.pause()}),o(this,"_onSlideAfter",(a,r)=>{var c,h;(c=this._syncCarousels)==null||c.forEach(f=>f.slideToSourceIndex(a,r)),(h=this._autoPlayer)==null||h.play()}),o(this,"_onDragStart",()=>{var a,r;(a=this._controller)==null||a.slideResetToMatchIndex(),(r=this._autoPlayer)==null||r.pause()}),o(this,"_onDragEnd",a=>{var r,c;(r=this._controller)==null||r.slideToVirtualIndex(a),(c=this._syncCarousels)==null||c.forEach(h=>h==null?void 0:h.syncControlDone(a))}),o(this,"_onAnimationEnd",(a,r)=>{this.props.onAnimationEnd&&this.props.onAnimationEnd(a,r)}),o(this,"_onDragMove",a=>{var r;(r=this._syncCarousels)==null||r.forEach(c=>c==null?void 0:c.syncControlMove(a))}),o(this,"_onChange",()=>{if(this.props.onSlideChange&&this._stater){const{source:a,virtual:r,page:c}=this._stater;this.props.onSlideChange({source:a,virtual:r,page:c})}}),o(this,"_onResize",a=>{var r,c;if(a.windowSize!==this.state.windowSize)this.setState({windowSize:a.windowSize});else{const h=(r=this._stater)==null?void 0:r.source.activeIndex;(c=this._controller)==null||c.slideToSourceIndex(h,{isUseAnimation:!1})}}),o(this,"_renderNavButton",()=>{var a,r,c;const{renderNavButton:h}=this.props;return typeof h<"u"&&this._controller?d.jsx(d.Fragment,{children:h(this._controller.slideToPrevPage,this._controller.slideToNextPage)}):d.jsxs("div",{ref:(a=this._elementor)==null?void 0:a._navGroupRef,className:p.navGroup,children:[d.jsx(Qe,{onClick:(r=this._controller)==null?void 0:r.slideToPrevPage}),d.jsx(Ke,{onClick:(c=this._controller)==null?void 0:c.slideToNextPage})]})}),o(this,"_renderSlideItems",()=>{var a,r;const{isDebug:c}=this.props,h=(a=this._stater)==null?void 0:a.virtual,f=(r=this._stater)==null?void 0:r.formatElement;return f==null?void 0:f.map((_,g)=>{const v=_.virtualIndex===(h==null?void 0:h.activeIndex);return d.jsx(De,{ref:P=>{var m;return P&&((m=this._elementor)==null?void 0:m.setSlideItemRefs(P,g))},element:_.element,virtualIndex:_.virtualIndex,matchIndex:_.matchIndex,inPage:_.inPage,sourceIndex:_.sourceIndex??0,isActive:v,isClone:_.isClone,isDebug:c,index:g},`bear-carousel_slide-item_${_.key}`)})}),o(this,"_renderPagination",()=>{var a,r,c,h,f,_;const{renderPagination:g}=this.props,v=(a=this._stater)==null?void 0:a.page,P=(c=(r=this._configurator)==null?void 0:r.setting)==null?void 0:c.isEnablePageContent;let m;typeof g<"u"&&(m=g(((f=(h=this._stater)==null?void 0:h.page)==null?void 0:f.total)??0));const I=Array.from({length:(v==null?void 0:v.total)??0}).map((w,M)=>d.jsx(Fe,{ref:z=>{var C;return z&&((C=this._elementor)==null?void 0:C.setPageRefs(z,M))},onSlideToPage:z=>{var C;return(C=this._controller)==null?void 0:C.slideToPage(z)},page:M+1,isActive:(v==null?void 0:v.activePage)===M+1,pageContent:P&&typeof m<"u"&&m[M]},`page_${M}`));return d.jsx("div",{ref:(_=this._elementor)==null?void 0:_._pageGroupRef,"data-page-content":S(P??!1),className:p.paginationGroup,children:I})});const{data:t,breakpoints:n,onMount:s,syncCarouselRefs:l}=e,u=N(this.props);this._configurator=new we({breakpoints:n,defaultBreakpoint:u,win:globalThis.window});try{this._stater=new F(this._configurator,t)}catch(a){this._stater=new F(this._configurator,void 0),a instanceof Error&&(this._isError=!0,console.error(a.message))}this._elementor=new je({configurator:this._configurator,stater:this._stater})}componentDidMount(){this.props.isDebug&&E.componentDidMount&&b.printInText("[componentDidMount]");const{breakpoints:e,onMount:t,syncCarouselRefs:n}=this.props;this._isError||this._configurator&&(this._windowSizer=new Me({breakpoints:e,win:globalThis.window,configurator:this._configurator}),this._stater.onChange(this._onChange),this._elState=new it({configurator:this._configurator,elementor:this._elementor,stater:this._stater}),this._controller=new ke({configurator:this._configurator,stater:this._stater,elState:this._elState}),this._dragger=new Xe({configurator:this._configurator,elementor:this._elementor,elState:this._elState,stater:this._stater}),this._autoPlayer=new Be({configurator:this._configurator}),this._windowSizer.onResize(this._onResize),this._autoPlayer.onTimeout(this._onAutoPlay),this._dragger.onDragStart(this._onDragStart),this._dragger.onDragMove(this._onDragMove),this._dragger.onDragEnd(this._onDragEnd),this._elState.onAnimationEnd(this._onAnimationEnd),this._controller.onSlideBefore(this._onSlideBefore),this._controller.onSlideAfter(this._onSlideAfter),n&&(this._syncCarousels=n.map(s=>new Ye(s))),this._setController(),this._elState.onSlideAnimation(),this._init(),t&&t())}componentWillUnmount(){var e,t,n;this.props.isDebug&&E.componentWillUnmount&&b.printInText("[componentWillUnmount]"),(e=this._windowSizer)==null||e.offResize(this._onResize),(t=this._autoPlayer)==null||t.offTimeout(this._onAutoPlay),this._dragger&&(this._dragger.offDragStart(this._onDragStart),this._dragger.offDragMove(this._onDragMove),this._dragger.offDragEnd(this._onDragEnd)),this._controller&&(this._controller.offSlideBefore(this._onSlideBefore),this._controller.offSlideAfter(this._onSlideAfter)),this._elState&&this._elState.offSlideAnimation(),(n=this._stater)==null||n.offChange(this._onChange)}shouldComponentUpdate(e,t){var n,s,l,u,a,r,c;(n=this._configurator)!=null&&n.setting.isDebug&&E.shouldComponentUpdate&&b.printInText("[shouldComponentUpdate]");const{windowSize:h,isClientReady:f}=this.state,{windowSize:_,isClientReady:g}=t,{data:v,...P}=this.props,{data:m,...I}=e;if(g!==f)return!0;if((v==null?void 0:v.length)!==(m==null?void 0:m.length))return(s=this._configurator)==null||s.init({defaultBreakpoint:N(e),breakpoints:e.breakpoints}),(l=this._stater)==null||l.reset(e.data),setTimeout(()=>{var w;(w=this._controller)==null||w.slideToPage(1,!1)},0),!0;if(h!==_||ve(P,I,["moveEffect"])){const w=(u=this._stater)==null?void 0:u.source.activeIndex;return(a=this._configurator)==null||a.init({defaultBreakpoint:N(e),breakpoints:e.breakpoints}),(r=this._stater)==null||r.reset(e.data),setTimeout(()=>{var M;(M=this._controller)==null||M.slideToSourceIndex(w??0,{isUseAnimation:!1})},0),!0}return v!==m?((c=this._stater)==null||c.updateData(e.data),!0):!1}render(){var e,t,n,s,l,u;const{style:a,className:r,isDebug:c,isLazy:h,renderLazyPreloader:f,isEnableGPURender:_}=this.props;if(!this._isError)return d.jsxs(Ze,{ref:(e=this._elementor)==null?void 0:e._rootRef,style:a,className:r,setting:(t=this._configurator)==null?void 0:t.setting,isDebug:c,extendStyle:(n=this._configurator)==null?void 0:n.style,isEnableGpuRender:_,children:[this.state.isClientReady&&((s=this._stater)==null?void 0:s.isVisibleNavButton)&&this._renderNavButton(),d.jsx("div",{className:p.content,children:d.jsx("div",{ref:(l=this._elementor)==null?void 0:l._containerRef,className:p.container,"data-testid":"bear-carousel-container",children:d.jsx(qe,{isLazy:h,renderLazyPreloader:f||(()=>d.jsx("div",{children:"loading..."})),children:this.state.isClientReady&&this._renderSlideItems()})})}),this.state.isClientReady&&d.jsxs(d.Fragment,{children:[((u=this._stater)==null?void 0:u.isVisiblePagination)&&this._renderPagination(),c&&this._windowSizer&&d.jsx($e,{size:this._windowSizer.size})]})]})}}o(nt,"defaultProps",{data:void 0,slidesPerView:1,slidesPerGroup:1,breakpoints:{},isCenteredSlides:!1,isEnableLoop:!1,isEnablePageContent:!1,isEnablePagination:!1,isEnableNavButton:!1,isEnableMouseMove:!0,isEnableAutoPlay:!1,movePercentage:.1,isDebug:!1,spaceBetween:0,moveTime:500,autoPlayTime:5e3,initStartPlayTime:1500,isEnableGPURender:!1});const ot=({isLazy:i,imageUrl:e})=>{const t=x.useRef(null),n=x.useRef(),[s,l]=x.useState(0);x.useEffect(()=>{i&&t.current&&e&&(n.current=new globalThis.window.IntersectionObserver(u),n.current.observe(t.current))},[e,i]);const u=x.useCallback((a,r)=>{for(let c of a)if(c.isIntersecting){const h=c.target;s===0&&(l(1),h.src=e,h.onload=()=>l(2),h.onerror=()=>l(3)),r.unobserve(h)}},[s]);return{imageRef:t,status:s}};var W=(i=>(i[i.ready=0]="ready",i[i.loading=1]="loading",i[i.done=2]="done",i[i.fail=3]="fail",i))(W||{});const rt=({className:i,style:e,imageUrl:t,imageAlt:n,imageSize:s,onClick:l})=>{const u=He(),{imageRef:a,status:r}=ot({isLazy:u.isLazy??!1,imageUrl:t});return d.jsxs(d.Fragment,{children:[d.jsx("img",{ref:a,style:e,className:ie(i,p.slideItemImage,{[p.slideItemImageNone]:s==="none",[p.slideItemImageCover]:s==="cover",[p.slideItemImageContain]:s==="contain",[p.slideItemImageScaleDown]:s==="scaleDown"}),src:!u.isLazy&&t?t:void 0,alt:n,draggable:"false","data-lazy-src":u.isLazy&&r!==W.done?t:void 0,onClick:l}),u.isLazy&&r===W.loading&&d.jsx("div",{className:p.slideItemImagePreLoad,children:u.renderLazyPreloader()})]})};export{nt as Y,rt as e};
